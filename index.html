
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FENNEC Steps Wizard</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,700|Montserrat:700">
  <style>
    body {
      background: #232426;
      color: #f4f7fa;
      font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
      margin: 0; padding: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: row;
      height: 100vh;
    }
    .sidebar {
      width: 92px;
      background: #191b20;
      box-shadow: 2px 0 12px #0002;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-top: 2em;
      border-top-right-radius: 2em;
      border-bottom-right-radius: 2em;
      min-height: 100vh;
      z-index: 3;
    }
    .sidebar-select-label {
      color: #97efca;
      font-size: 0.9em;
      margin-bottom: 0.1em;
      font-weight: bold;
      text-align: center;
    }
    .sidebar-select {
      width: 78px;
      border-radius: 1.2em;
      padding: 0.3em 0.7em;
      font-size: 0.97em;
      background: #27292c;
      color: #fff;
      border: 1.2px solid #59ecbe;
      font-weight: 600;
      margin-bottom: 1.7em;
      text-align: center;
      outline: none;
      transition: border .16s;
    }
    .main-wizard-panel {
      flex: 1;
      display: flex;
      flex-direction: column;
      min-width: 0;
      padding: 0;
      min-height: 100vh;
    }
    .fennec-header {
      background: #e4e7ea;
      color: #191b20;
      font-family: 'Montserrat', 'Inter', sans-serif;
      display: flex;
      align-items: center;
      gap: 1.2em;
      padding: 0.5em 1.8em;
      font-weight: 700;
      letter-spacing: 0.06em;
      font-size: 1.22em;
      box-shadow: 0 2px 14px #0003;
      border-bottom-left-radius: 1.4em;
      border-bottom-right-radius: 1.4em;
      height: 62px;
      min-height: 62px;
      position: relative;
      z-index: 2;
      width: 100%;
      min-width: 0;
    }
    .fennec-logo {
      height: 40px;
      width: 40px;
      margin: 0 0.7em 0 0;
      border-radius: 2em;
      background: linear-gradient(140deg,#32343a,#d3d5d8 82%);
      box-shadow: none;
      background: none;
      display: inline-block;
    }
    .container {
      display: flex;
      height: calc(100vh - 62px);
      margin: 0 auto;
      max-width: 820px;
      border-radius: 2em;
      overflow: hidden;
      box-shadow: 0 2px 18px #0007;
      background: #18191c;
      border: 1.5px solid #2d3036;
      margin-top: 0;
    }
    .steps-list {
      width: 210px;
      background: #191b20;
      border-right: 2px solid #202124;
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      box-shadow: 0 2px 6px #0002;
    }
    .add-step-btn {
      margin: 2em 1.4em 0.7em 1.4em;
      padding: 0.8em 0;
      border-radius: 2em;
      border: none;
      background: #72ffe7;
      color: #181b20;
      font-weight: 800;
      font-size: 1em;
      box-shadow: 0 1px 6px #0003;
      cursor: pointer;
      transition: background .12s;
      letter-spacing: 0.03em;
    }
    .add-step-btn:active {
      background: #38c1b0;
      color: #fff;
    }
    .step-item {
      cursor: pointer;
      padding: 1.15em 1.3em;
      border: none;
      background: none;
      color: #9bc5ee;
      font-size: 1.08em;
      text-align: left;
      border-bottom: 1px solid #24252b;
      transition: background 0.16s;
      letter-spacing: 0.02em;
    }
    .step-item.selected {
      background: #28292d;
      color: #fff;
      font-weight: 700;
      border-left: 6px solid #59ecbe;
      border-radius: 0 1.4em 1.4em 0;
    }
    .details-panel {
      flex: 1;
      padding: 2em 2em 4em 2em;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      position: relative;
      min-width: 0;
      box-sizing: border-box;
    }
    .card-step {
      background: #232529;
      border-radius: 2em;
      box-shadow: 0 3px 18px #0005;
      padding: 2.2em 2.3em 1em 2.3em;
      margin-bottom: 2em;
      display: flex;
      flex-direction: column;
      min-height: 410px;
      max-height: 410px;
      height: 410px;
      overflow-y: auto;
      transition: height .22s cubic-bezier(.61,1.48,.54,.98);
      box-sizing: border-box;
    }
    .step-title {
      font-size: 1.33em;
      color: #6ce4c5;
      font-family: 'Montserrat', 'Inter', sans-serif;
      font-weight: 700;
      margin-bottom: 1.1em;
      letter-spacing: .04em;
    }
    .step-details {
      font-size: 1.11em;
      white-space: pre-wrap;
      line-height: 1.75em;
      color: #e6f1ff;
      padding-left: 0.2em;
      flex: 1;
    }
    .step-details .fennec-bullet {
      color: #59ecbe;
      font-size: 1.08em;
      padding-right: 0.3em;
      font-weight: 700;
      font-family: 'Inter', 'Montserrat', sans-serif;
    }
    .edit-controls {
      display: flex;
      gap: 1em;
      margin-top: 1.2em;
    }
    .nav-btns {
      position: absolute;
      right: 2.5em;
      bottom: 1.6em;
      display: flex;
      gap: 1.8em;
    }
    .nav-btn {
      background: #59ecbe;
      color: #191b20;
      padding: 0.82em 2.3em;
      border-radius: 1.7em;
      border: none;
      font-size: 1.07em;
      font-weight: 700;
      letter-spacing: 0.03em;
      cursor: pointer;
      box-shadow: 0 1px 10px #0005;
      transition: background .17s, color .12s;
      outline: none;
    }
    .nav-btn:active {
      background: #3be9a5;
      color: #131616;
    }
    .nav-btn:disabled {
      background: #33383e;
      color: #ccc;
      cursor: not-allowed;
    }
    .no-steps-msg {
      color: #ff8787;
      font-weight: 800;
      text-align: center;
      margin: 3em 0 1em 0;
      font-size: 1.15em;
      background: #1a181b;
      padding: 1.5em 1em;
      border-radius: 1em;
    }
    @media (max-width: 900px) {
      .container { flex-direction: column; max-width: 97vw; height: 95vh; }
      .steps-list { width: 100%; flex-direction: row; overflow-x: auto; border-bottom: 2px solid #212337; border-right: none; }
      .step-item { min-width: 160px; border-bottom: none; border-right: 1px solid #23242b; border-left: none; border-radius: 0; }
      .step-item.selected { border-radius: 1.4em 1.4em 0 0; border-left: none; border-bottom: 6px solid #59ecbe; }
      .details-panel { padding: 1.2em 1.2em 4.5em 1.2em; }
      .card-step { padding: 1.2em 1.2em 0.7em 1.2em; min-height:320px; height:320px; max-height:320px;}
      .nav-btns { right: 1em; bottom: 1em; }
    }
  </style>
</head>
<body>
  <div class="sidebar">
    <label for="sidebarState" class="sidebar-select-label">STATE</label>
    <select class="sidebar-select" id="sidebarState">
      <option value="AL">AL</option>
      <option value="AR">AR</option>
    </select>
  </div>
  <div class="main-wizard-panel">
    <div class="fennec-header">
      <img src="fennec_icon.png" alt="Fennec Logo" class="fennec-logo">
      <span style="font-size:1.23em;font-family:'Montserrat',sans-serif;font-weight:700;letter-spacing:0.06em;color:#191b20;">
        FENNEC STEPS WIZARD
      </span>
      <select id="orderTypeSelect" style="margin-left:1.4em;font-size:0.95em;border-radius:1em;border:1px solid #b2b4b7;padding:0.2em 1em;background:#f3f5fa;font-weight:600;color:#222;">
        <option value="main_llc">Main Orders · LLC</option>
        <option value="amendment">Amendment</option>
        <option value="foreign">Foreign Qualification</option>
        <option value="dissolution">Dissolution</option>
      </select>
      <span id="headerOrderLabel" style="font-size:0.86em;font-weight:400;color:#292b31;margin-left:.7em;"></span>
    </div>
    <div class="container">
      <div class="steps-list" id="stepsList"></div>
      <div class="details-panel">
        <div class="card-step">
          <div class="step-title" id="stepTitle"></div>
          <div class="step-details" id="stepDetails"></div>
          <div class="edit-controls" id="editControls" style="display:flex;gap:1em;margin-top:1.2em;">
            <button id="editStepBtn" class="nav-btn" style="background:#97efca;color:#18191c;">Editar</button>
            <button id="deleteStepBtn" class="nav-btn" style="background:#e36666;color:#fff;">Borrar</button>
            <button id="addStepBtn" class="nav-btn" style="background:#72ffe7;color:#181b20;">+ Agregar Paso</button>
          </div>
          <div id="editStepForm" style="display:none;margin-top:1.1em;">
            <input id="editTitle" style="width:100%;font-size:1.1em;margin-bottom:0.8em;" placeholder="Título" />
            <textarea id="editDetails" style="width:100%;height:110px;font-size:1em;" placeholder="Detalles del paso, una línea por punto"></textarea>
            <div style="margin-top:0.8em;">
              <button id="saveEditBtn" class="nav-btn">Guardar</button>
              <button id="cancelEditBtn" class="nav-btn" style="background:#666;">Cancelar</button>
            </div>
          </div>
          <div id="addStepForm" style="display:none;margin-top:1.1em;">
            <input id="addTitle" style="width:100%;font-size:1.1em;margin-bottom:0.8em;" placeholder="Título nuevo paso" />
            <textarea id="addDetails" style="width:100%;height:110px;font-size:1em;" placeholder="Detalles, una línea por punto"></textarea>
            <div style="margin-top:0.8em;">
              <button id="saveAddBtn" class="nav-btn">Agregar</button>
              <button id="cancelAddBtn" class="nav-btn" style="background:#666;">Cancelar</button>
            </div>
          </div>
          <div id="noStepsMsg" class="no-steps-msg" style="display:none;">No hay pasos definidos para este estado y tipo de orden.<br>Haz clic en <b>+ Agregar Paso</b> para crear uno nuevo.</div>
        </div>
        <div class="nav-btns">
          <button class="nav-btn" id="prevBtn">Previous</button>
          <button class="nav-btn" id="nextBtn">Next Step</button>
        </div>
      </div>
    </div>
  </div>

<script>
const stepsData = {
  "main_llc": {
    "AL": [
      {
        title: "Name Search Available",
        details: [
          "Check spelling and required designators:",
          "  • Limited Liability Company",
          "  • L.L.C.",
          "  • LLC",
          "",
          "Restricted Words:",
          "  • Bank",
          "  • Insurer / Insurance",
          "  • Banking",
          "  • Engineer",
          "  • Banker",
          "  • Architect",
          "  • Trust",
          "  • Or any abbreviation of such words cannot be used.",
          "",
          "Implies a Professional Service?",
          "  • The state does have Professional LLC. Section 10A-5A-8.01",
          "",
          "Status:",
          "  • Dissolved: Available after 120 days",
          "  • Active: Not Available",
          "",
          "Not Available:",
          "  • Send Name Issue",
          "",
          "Name Reservation:",
          "  • We can file them. Ask the client for the Name Reservation document because we need the exact Entity Name and the Reservation ID.",
          "  • The Reserved Name must have the correct designator.",
          "  • The name of one of the members must be included in the Name Reservation Document.",
          "  • Check the Expiration Date of the Name Reservation.",
          "",
          "Trade Names / ABN / Fictitious Name / DBA:",
          "  • We can file the company if the name is not taken for another LLC/CORP"
        ]
      },
      {
        title: "Purpose",
        details: [
          "If the purpose implies a Professional Service, send to Pamela G.; we don’t file PLLC."
        ]
      },
      {
        title: "Registered Agent Entity",
        details: [
          "Entity:",
          "  • An existing Alabama Domestic Entity",
          "  • A Foreign Entity currently registered to do business in Alabama",
          "  • Example: REPUBLIC REGISTERED AGENT LLC – Entity ID #001038992",
          "",
          "Individual:",
          "  • A resident of Alabama",
          "  • First & Last Name Required",
          "",
          "Address:",
          "  • Physical In-State Address Required"
        ]
      },
      {
        title: "Management Type",
        details: [
          "Choose one:",
          "  • Member",
          "  • Manager"
        ]
      },
      {
        title: "Member Information",
        details: [
          "This information is added in an attachment.",
          "",
          "Entity:",
          "  • An Authorized Representative is required to sign the Name Reservation",
          "",
          "Individual:",
          "  • Review the Name and Address.",
          "",
          "Address:",
          "  • US or International"
        ]
      },
      {
        title: "Organizer Information",
        details: [
          "Individual:",
          "  • Lovette Dobson"
        ]
      }
    ],
    "AR": [
      {
        title: "Name Availability",
        details: [
          "Verify LLC name availability using the Arkansas Secretary of State’s online tool.",
          "Name must include:",
          "  • LLC",
          "  • L.L.C.",
          "  • Limited Liability Company",
          "",
          "Restricted Words:",
          "  • Bank",
          "  • Insurance",
          "  • Trust",
          "  • Engineer",
          "  • Architect",
          "  • Banker",
          "",
          "LLC name cannot be deceptively similar to an existing entity.",
          "Status:",
          "  • Dissolved: Available after 120 days",
          "  • Active: Not Available"
        ]
      },
      {
        title: "Articles of Organization",
        details: [
          "Complete and file the Articles of Organization (Form LL-01) with the Secretary of State.",
          "Filing can be done online or by mail.",
          "Articles of Organization do not require notarization."
        ]
      },
      {
        title: "Registered Agent",
        details: [
          "Appoint a registered agent with a physical address in Arkansas.",
          "P.O. Boxes are not allowed.",
          "Registered Agent must accept appointment."
        ]
      },
      {
        title: "Filing Fee",
        details: [
          "Pay the $50 state filing fee (online) or $45 (by mail)."
        ]
      },
      {
        title: "Annual Franchise Tax Report",
        details: [
          "Annual Franchise Tax Report is required.",
          "Filing online is faster and provides immediate confirmation."
        ]
      }
    ]
  },
  "amendment": {
    "AL": [
      { title: "Amendment Step 1", details: ["Describe the type of amendment to be filed."] },
      { title: "Prepare Amendment Document", details: ["Gather original Articles, prepare amendment form."] },
      { title: "File With State", details: ["Submit amendment with required fee via the state portal."] },
      { title: "Confirm Filing", details: ["Await and confirm acceptance, update internal records."] }
    ],
    "AR": [
      { title: "Amendment Step 1", details: ["Check requirements for AR amendments."] },
      { title: "Prepare Documents", details: ["Use Secretary of State forms as required."] },
      { title: "File Amendment", details: ["Submit amendment, pay fee."] },
      { title: "Confirmation", details: ["Confirm and notify client."] }
    ]
  },
  "foreign": {
    "AL": [
      { title: "Foreign Qual. Step 1", details: ["Review foreign qualification requirements for Alabama."] },
      { title: "File Application", details: ["Prepare and submit application as a foreign entity."] },
      { title: "Registered Agent", details: ["Appoint in-state registered agent."] },
      { title: "Acceptance", details: ["Await state approval."] }
    ],
    "AR": [
      { title: "Foreign Qual. Step 1", details: ["Check foreign entity eligibility in AR."] },
      { title: "Prepare Docs", details: ["Certificate of Good Standing from home state, etc."] },
      { title: "Submit Application", details: ["Send application to AR Secretary of State."] },
      { title: "Approval", details: ["Confirm approval with client."] }
    ]
  },
  "dissolution": {
    "AL": [
      { title: "Dissolution Step 1", details: ["Review AL dissolution requirements."] },
      { title: "Prepare Documents", details: ["Prepare Articles of Dissolution."] },
      { title: "File & Pay", details: ["Submit docs, pay fee."] },
      { title: "Confirmation", details: ["Confirm state approval, close accounts."] }
    ],
    "AR": [
      { title: "Dissolution Step 1", details: ["Check AR dissolution rules."] },
      { title: "Prepare Forms", details: ["Get proper forms, signatures."] },
      { title: "Submit & Pay", details: ["File with AR, pay fees."] },
      { title: "Confirm & Notify", details: ["Notify client and update records."] }
    ]
  }
};

let currentState = "AL";
let currentOrderType = "main_llc";
let currentStep = 0;
let isEditing = false;
let isAdding = false;

function renderSteps() {
  const list = document.getElementById('stepsList');
  list.innerHTML = '';
  const orderData = stepsData[currentOrderType][currentState];
  if (!orderData || orderData.length === 0) return;
  orderData.forEach((step, idx) => {
    const btn = document.createElement('button');
    btn.textContent = `Step ${idx + 1}`;
    btn.className = 'step-item' + (idx === currentStep ? ' selected' : '');
    btn.onclick = () => {
      if(isEditing || isAdding) return;
      currentStep = idx;
      renderStepDetails();
      renderSteps();
    };
    list.appendChild(btn);
  });
}

function renderStepDetails() {
  const orderData = stepsData[currentOrderType][currentState];
  const noStepsMsg = document.getElementById('noStepsMsg');
  if (!orderData || orderData.length === 0) {
    document.getElementById('stepTitle').style.display = 'none';
    document.getElementById('stepDetails').style.display = 'none';
    document.getElementById('editControls').style.display = 'flex';
    document.getElementById('editStepBtn').style.display = 'none';
    document.getElementById('deleteStepBtn').style.display = 'none';
    document.getElementById('addStepBtn').style.display = '';
    document.getElementById('editStepForm').style.display = 'none';
    document.getElementById('addStepForm').style.display = 'none';
    noStepsMsg.style.display = '';
    document.getElementById('prevBtn').disabled = true;
    document.getElementById('nextBtn').disabled = true;
    return;
  }
  noStepsMsg.style.display = 'none';
  document.getElementById('stepTitle').style.display = '';
  document.getElementById('stepDetails').style.display = '';
  document.getElementById('editControls').style.display = 'flex';
  document.getElementById('editStepBtn').style.display = '';
  document.getElementById('deleteStepBtn').style.display = '';
  document.getElementById('addStepBtn').style.display = '';
  document.getElementById('editStepForm').style.display = 'none';
  document.getElementById('addStepForm').style.display = 'none';
  const s = orderData[currentStep] || {title:'',details:['']};
  document.getElementById('stepTitle').textContent = s.title;
  document.getElementById('stepDetails').innerHTML = s.details.map(l =>
    l.trim().startsWith('•')
      ? `<span class='fennec-bullet'>•</span> ${l.replace(/^•/, '').trim()}`
      : l.replace(/  •/g, "<span class='fennec-bullet'>•</span>")
  ).join('<br>');
  document.getElementById('prevBtn').disabled = currentStep === 0;
  document.getElementById('nextBtn').disabled = currentStep === orderData.length - 1;
  setupEditControls();
}

function showEditForm() {
  if(isAdding) return;
  isEditing = true;
  const step = stepsData[currentOrderType][currentState][currentStep];
  document.getElementById('editTitle').value = step.title;
  document.getElementById('editDetails').value = step.details.join('\n');
  document.getElementById('editStepForm').style.display = '';
  document.getElementById('editControls').style.display = 'none';
  document.getElementById('stepTitle').style.display = 'none';
  document.getElementById('stepDetails').style.display = 'none';
}
function hideEditForm() {
  isEditing = false;
  document.getElementById('editStepForm').style.display = 'none';
  document.getElementById('editControls').style.display = 'flex';
  document.getElementById('stepTitle').style.display = '';
  document.getElementById('stepDetails').style.display = '';
}
function saveEditForm() {
  const newTitle = document.getElementById('editTitle').value;
  const newDetails = document.getElementById('editDetails').value.split('\n');
  stepsData[currentOrderType][currentState][currentStep] = {
    title: newTitle,
    details: newDetails
  };
  isEditing = false;
  hideEditForm();
  renderStepDetails();
}
function deleteStep() {
  if(confirm("¿Seguro que quieres borrar este paso?")) {
    stepsData[currentOrderType][currentState].splice(currentStep, 1);
    if(currentStep > 0) currentStep--;
    renderSteps();
    renderStepDetails();
  }
}
function showAddForm() {
  if(isEditing) return;
  isAdding = true;
  document.getElementById('addTitle').value = '';
  document.getElementById('addDetails').value = '';
  document.getElementById('addStepForm').style.display = '';
  document.getElementById('editControls').style.display = 'none';
  document.getElementById('editStepForm').style.display = 'none';
  document.getElementById('stepTitle').style.display = 'none';
  document.getElementById('stepDetails').style.display = 'none';
}
function hideAddForm() {
  isAdding = false;
  document.getElementById('addStepForm').style.display = 'none';
  document.getElementById('editControls').style.display = 'flex';
  document.getElementById('stepTitle').style.display = '';
  document.getElementById('stepDetails').style.display = '';
}
function saveAddForm() {
  const newTitle = document.getElementById('addTitle').value;
  const newDetails = document.getElementById('addDetails').value.split('\n');
  if(!stepsData[currentOrderType][currentState]) stepsData[currentOrderType][currentState] = [];
  stepsData[currentOrderType][currentState].push({title: newTitle, details: newDetails});
  currentStep = stepsData[currentOrderType][currentState].length - 1;
  isAdding = false;
  hideAddForm();
  renderSteps();
  renderStepDetails();
}
function setupEditControls() {
  document.getElementById('editStepBtn').onclick = showEditForm;
  document.getElementById('deleteStepBtn').onclick = deleteStep;
  document.getElementById('addStepBtn').onclick = showAddForm;
  document.getElementById('saveEditBtn').onclick = saveEditForm;
  document.getElementById('cancelEditBtn').onclick = hideEditForm;
  document.getElementById('saveAddBtn').onclick = saveAddForm;
  document.getElementById('cancelAddBtn').onclick = hideAddForm;
}

document.getElementById('sidebarState').onchange = (e) => {
  currentState = e.target.value;
  currentStep = 0;
  renderSteps();
  renderStepDetails();
};
document.getElementById('orderTypeSelect').onchange = (e) => {
  currentOrderType = e.target.value;
  currentStep = 0;
  renderSteps();
  renderStepDetails();
};
document.getElementById('prevBtn').onclick = () => {
  if (currentStep > 0) {
    currentStep--;
    renderStepDetails();
    renderSteps();
  }
};
document.getElementById('nextBtn').onclick = () => {
  if (currentStep < stepsData[currentOrderType][currentState].length - 1) {
    currentStep++;
    renderStepDetails();
    renderSteps();
  }
};

// Init
renderSteps();
renderStepDetails();
</script>
</body>
</html>
